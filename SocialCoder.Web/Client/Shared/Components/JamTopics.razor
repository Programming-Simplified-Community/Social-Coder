@using SocialCoder.Web.Shared.Models.CodeJam
@using SocialCoder.Web.Shared.ViewModels.CodeJam
@using SocialCoder.Web.Client.GraphQL
@inject ICodeJamService Cj
@inject SocialCoderGraphQL _graph

<MudGrid Spacing="3" Justify="Justify.Center">
    @foreach (var topic in topics)
    {
        <JamTopic Model="topic"/>
    }
</MudGrid>

@code {
    List<CodeJamViewModel> topics = new();
    
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        var repsonse = await _graph.FetchTopicCards(new()
        {
            IsDescending = false,
            PageNumber = 0,
            PageSize = 5
        }, string.Empty);
        
        
    // var response = await Cj.GetAllTopics(null,null);
    // topics = response.Items.ToList();
    }
}